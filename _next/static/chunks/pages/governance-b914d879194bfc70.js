(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4345],{77426:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/governance",function(){return r(47553)}])},47553:function(e,n,r){"use strict";r.r(n),r.d(n,{__N_SSG:function(){return k},default:function(){return M}});var t=r(88565),o=r.n(t),a=r(93288),s=r(88082),i=r(32466),l=r(88569),c=r.n(l),u=r(49638),p=r(55684),d=r(87304),_=r(25348),v=r(95839),f=r(17163),h=r(76138),g=r(53487),m=r.n(g),b=r(21395),x=r(11408),y=r(36970),S=r(10606),j=r(82197),P=r(32852),O=r.n(P),T=r(44926),A=r.n(T);function I(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function N(e,n,r,t,o,a,s){try{var i=e[a](s),l=i.value}catch(c){return void r(c)}i.done?n(l):Promise.resolve(l).then(t,o)}function w(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return I(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E=c()((function(){return r.e(6191).then(r.bind(r,46191))}),{loadableGenerated:{webpack:function(){return[46191]}}}),C=c()((function(){return Promise.resolve().then(r.bind(r,89786))}),{loadableGenerated:{webpack:function(){return[89786]}}}),D=c()((function(){return r.e(6457).then(r.bind(r,26457))}),{loadableGenerated:{webpack:function(){return[26457]}}}),V=c()((function(){return Promise.resolve().then(r.bind(r,41125))}),{loadableGenerated:{webpack:function(){return[41125]}}}),W=c()((function(){return r.e(3711).then(r.bind(r,23711))}),{loadableGenerated:{webpack:function(){return[23711]}}});var R=function(){var e=function(){var e=(0,v.ZP)("".concat(f.O1,"/cosmos/gov/v1beta1/proposals?pagination.limit=").concat(50,"&pagination.reverse=true")),n=e.data,r=e.error,t=0;for(!r&&n&&(n.proposals.map((function(e){(0,h.h3)(e)})),t=n.proposals.length);t<=50;)(0,v.ZP)(null),t+=1;var o=(0,i.useMemo)((function(){return!n&&!r}),[n,r]);return{data:n,loading:o,error:r}}(),n=e.loading,r=e.data,t=e.error,l=((0,i.useContext)(S.zM).activeWallet||{}).evmosAddress,c=(0,i.useState)([]),g=c[0],P=c[1],T=(0,b.useRouter)(),I=(0,s.Z)().t,R=(0,i.useCallback)((function(){r&&!n&&l&&r.proposals.forEach(function(){var e,n=(e=o().mark((function e(n,r){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r<6)){e.next=5;break}return e.next=3,(0,j.bL)(f.O1,n.proposalId,l);case 3:(t=e.sent)&&P((function(e){return w(e).concat([t])}));case 5:case"end":return e.stop()}}),e)})),function(){var n=this,r=arguments;return new Promise((function(t,o){var a=e.apply(n,r);function s(e){N(a,t,o,s,i,"next",e)}function i(e){N(a,t,o,s,i,"throw",e)}s(void 0)}))});return function(e,r){return n.apply(this,arguments)}}())}),[null===r||void 0===r?void 0:r.proposals,n,l,T.pathname]);return(0,i.useEffect)((function(){R()}),[R]),n?(0,a.jsx)(u.Z,{}):!r||t?(0,a.jsxs)("div",{style:{textAlign:"center"},children:[(0,a.jsx)(C,{type:"h6",children:I("errors:network.text")}),(0,a.jsx)(C,{type:"h6",children:I("errors:network.subtext")})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(A(),{children:(0,a.jsx)("meta",{name:"description",content:"Learn the latest governance proposals on Evmos."})}),(0,a.jsx)(p.Z,{condition:0===r.proposals.length,title:"No proposals found!",children:(0,a.jsx)("div",{className:m().governancePage,children:(0,a.jsx)(i.Suspense,{fallback:(0,a.jsx)(u.Z,{}),children:r.proposals.map((function(e,n){var r,t,o,s=n<6?g.find((function(n){if(n.proposal_id.toString()===e.proposalId.toString())return n})):void 0,i=Date.parse(null===e||void 0===e?void 0:e.votingStartTime)>0,l=_.Fz[e.status].toLowerCase();return"rejected"===l?t=(0,a.jsx)(V,{width:18,height:18}):"passed"===l&&(t=(0,a.jsx)(W,{width:18,height:18})),(0,a.jsxs)(E,{className:m().proposal,"aria-label":"Proposal ".concat(e.proposalId),onClick:function(){return T.push(d.aD.path+"/".concat(e.proposalId))},children:[(0,a.jsxs)("div",{className:m().proposalHeader,children:[(0,a.jsxs)("div",{className:m().proposalHeaderContainer,children:[(0,a.jsx)(C,{className:m().proposalId,type:"large",children:"#".concat(e.proposalId)}),s&&(0,a.jsx)(C,{className:m().proposalVoteStatus,type:"large",children:(o=s,"You voted - ".concat(j._0[o.options[0].option]))})]}),(0,a.jsx)("div",{className:m().proposalHeaderContainerRight,children:(0,a.jsxs)(C,{className:O()([m().proposalStatus,m()[l]]),children:[t&&(0,a.jsx)("span",{className:m().proposalIconSpan,children:t}),_.Fz[e.status]]})})]}),(0,a.jsx)(C,{type:"h5",children:null===(r=e.content)||void 0===r?void 0:r.title}),(0,a.jsx)("div",{className:m().datesWrapper,children:i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(C,{style:{fontWeight:"bold"},children:(0,x.p6)(e.votingStartTime)}),(0,a.jsx)(C,{type:"small",children:"Voting Start"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(C,{style:{fontWeight:"bold"},children:(0,x.p6)(e.votingEndTime)}),(0,a.jsx)(C,{type:"small",children:"Voting End"})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(C,{style:{fontWeight:"bold"},children:(0,x.p6)(e.submitTime)}),(0,a.jsx)(C,{type:"small",children:"Submit Time"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(C,{style:{fontWeight:"bold"},children:(0,x.p6)(e.depositEndTime)}),(0,a.jsx)(C,{type:"small",children:"Deposit End Time"})]})]})}),i&&(0,a.jsx)(D,{items:(0,y.a)(e).items})]},e.proposalId.toString())}))})})})]})};R.meta={title:"Governance"};var k=!0,M=R},55684:function(e,n,r){"use strict";var t=r(93288),o=r(55651),a=r(89786),s=r(57492),i=r.n(s);n.Z=function(e){var n=e.title,r=e.description,s=e.children,l=e.condition,c=e.buttonAction,u=e.buttonText;return(0,t.jsx)(t.Fragment,{children:l?(0,t.jsxs)("div",{className:i().Message,children:[(0,t.jsx)(a.default,{type:"h2",children:n}),(0,t.jsx)(a.default,{type:"large",children:r}),c&&(0,t.jsx)(o.default,{className:i().Button,onClick:c,children:u})]}):(0,t.jsx)(t.Fragment,{children:s})})}},25348:function(e,n,r){"use strict";r.d(n,{Fz:function(){return o},ZV:function(){return s},ZW:function(){return a}});var t=r(6562),o={PROPOSAL_STATUS_UNSPECIFIED:"Default",PROPOSAL_STATUS_DEPOSIT_PERIOD:"Deposit",PROPOSAL_STATUS_VOTING_PERIOD:"Voting",PROPOSAL_STATUS_PASSED:"Passed",PROPOSAL_STATUS_REJECTED:"Rejected",PROPOSAL_STATUS_FAILED:"Failed"},a={yes:t.NP,abstain:t.p5,no:t.Mr,noWithVeto:t.zD},s={yes:"Yes",abstain:"Abstain",no:"No",noWithVeto:"No With Veto"}},76138:function(e,n,r){"use strict";r.d(n,{OO:function(){return i},h3:function(){return s}});var t=r(32466),o=r(95839),a=r(17163),s=function(e){if(void 0===e)return(0,o.ZP)(null),!1;if("PROPOSAL_STATUS_VOTING_PERIOD"!==e.status)return(0,o.ZP)(null),!1;var n=(0,o.ZP)("".concat(a.O1,"/cosmos/gov/v1beta1/proposals/").concat(e.proposalId,"/tally")),r=n.data;return!(n.error||!r||!r.tally)&&(e.finalTallyResult=r.tally,!0)},i=function(e){var n=(0,o.ZP)(e?"".concat(a.O1,"/cosmos/gov/v1beta1/proposals/").concat(e):null),r=n.data,i=n.error;!function(e,n){!e&&n?s(n.proposal):(0,o.ZP)(null)}(i,r);var l=(0,t.useMemo)((function(){return!r&&!i}),[r,i]);return{data:r,loading:l,error:i}}},82197:function(e,n,r){"use strict";r.d(n,{O1:function(){return _},_0:function(){return u},bL:function(){return p}});var t=r(88565),o=r.n(t),a=r(95839),s=r(17163),i=r(32466);function l(e,n,r,t,o,a,s){try{var i=e[a](s),l=i.value}catch(c){return void r(c)}i.done?n(l):Promise.resolve(l).then(t,o)}function c(e){return function(){var n=this,r=arguments;return new Promise((function(t,o){var a=e.apply(n,r);function s(e){l(a,t,o,s,i,"next",e)}function i(e){l(a,t,o,s,i,"throw",e)}s(void 0)}))}}var u={VOTE_OPTION_YES:"Yes",VOTE_OPTION_ABSTAIN:"Abstain",VOTE_OPTION_NO:"No",VOTE_OPTION_NO_WITH_VETO:"No with Veto"};function p(e,n,r){return d.apply(this,arguments)}function d(){return(d=c(o().mark((function e(n,r,t){var a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(n,"/cosmos/gov/v1beta1/proposals/").concat(r,"/votes/").concat(t));case 2:if(200!==(a=e.sent).status){e.next=8;break}return e.next=6,a.json();case 6:return s=e.sent,e.abrupt("return",s.vote);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=function(e,n){var r=(0,a.ZP)(e&&n?"".concat(s.O1,"/cosmos/gov/v1beta1/proposals/").concat(e,"/votes/").concat(n):null,null,{refreshInterval:1e4}),t=r.data,o=r.error,l=(0,i.useMemo)((function(){return!t&&!o}),[t,o]);return{data:t,loading:l,error:(null===t||void 0===t?void 0:t.code)?t:o}}},36970:function(e,n,r){"use strict";r.d(n,{a:function(){return i}});var t=r(25348),o=r(11408);function a(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function s(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,o,a=[],s=!0,i=!1;try{for(r=r.call(e);!(s=(t=r.next()).done)&&(a.push(t.value),!n||a.length!==n);s=!0);}catch(l){i=!0,o=l}finally{try{s||null==r.return||r.return()}finally{if(i)throw o}}return a}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return a(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var i=function(e){return(0,o.RW)(Object.entries((null===e||void 0===e?void 0:e.finalTallyResult)||{}).map((function(e){var n=s(e,2),r=n[0],o=n[1];return{title:r,value:Number(o),color:t.ZW[r]}})))}},53487:function(e){e.exports={governancePage:"governance_governancePage__8Txiv",proposal:"governance_proposal__tLdkU",datesWrapper:"governance_datesWrapper__O7Bvh",proposalHeaderContainer:"governance_proposalHeaderContainer__DswoP",proposalHeaderContainerRight:"governance_proposalHeaderContainerRight__gNTmP",proposalHeader:"governance_proposalHeader__XbYVF",proposalIconSpan:"governance_proposalIconSpan__baKOF",arcWrapper:"governance_arcWrapper__DlUgC",voteResultAggregationWrapper:"governance_voteResultAggregationWrapper___UYbI",passed:"governance_passed__K_ka8",no:"governance_no__rUJvB",proposalId:"governance_proposalId__NxU30",proposalVoteStatus:"governance_proposalVoteStatus__o2_3j",proposalStatus:"governance_proposalStatus__1K_XA",proposalDetailsPage:"governance_proposalDetailsPage__fpRbb",proposalDetailsDataSection:"governance_proposalDetailsDataSection__rTajS",proposalMetaDataCard:"governance_proposalMetaDataCard__Oe_iO",proposalDetailsChartCard:"governance_proposalDetailsChartCard__bZO3W",valuesWrapper:"governance_valuesWrapper__QfBpy",value:"governance_value__ir5Yz",badge:"governance_badge__wf5YA",voteModal:"governance_voteModal__tarBt",proposalModalHeader:"governance_proposalModalHeader__2LQbB",proposalModalTitle:"governance_proposalModalTitle__4b7L3",proposalModalProposalId:"governance_proposalModalProposalId__FLCwp",option:"governance_option__OrnJA",selected:"governance_selected__e_MN0",deposit:"governance_deposit__KoBNh",rejected:"governance_rejected__VJ64S",userVotedText:"governance_userVotedText__y9_Jx",userVotedTextDescription:"governance_userVotedTextDescription__eHRBo",description:"governance_description__ITZ4w",title:"governance_title__PfWhC",totalCountWrapper:"governance_totalCountWrapper__310PA",totalAmount:"governance_totalAmount__YVumh"}},57492:function(e){e.exports={Message:"PagePlaceholder_Message__nUA6u",Button:"PagePlaceholder_Button__7fA8O"}}},function(e){e.O(0,[7304,9774,2888,179],(function(){return n=77426,e(e.s=n);var n}));var n=e.O();_N_E=n}]);